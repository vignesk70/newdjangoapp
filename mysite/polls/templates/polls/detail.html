{% load django_bootstrap5 %} {% bootstrap_css %} {% bootstrap_javascript %}


{% comment %} 
  <div class="container mt-4">
<form action="{% url 'polls:vote' question.id %}" method="post">
    {% csrf_token %}
    <fieldset>
        <legend>
            <h1>{{ question.question_text }}</h1>
        </legend>
        {% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}
        {% if choices%}
        {% for choice in choices %}
        <input type="radio" name="choice" id="choice{{ forloop.counter }}" value="{{ choice.id }}" class="form-check-input">
        <label for="choice{{ forloop.counter }}" class="form-check-label">{{ choice.choice_text }}</label><br>
        {% endfor %}
        {% else %}
        <p>No choices are available for this question.</p>
        {% endif %}
    </fieldset>
    <input type="submit" value="Vote">
</form>
</div> {% endcomment %}


<div class="container">
    <form action="{% url 'polls:vote' question.id %}" method="post" class="form">
        {% csrf_token %}
        
        <!-- Voter Information Form -->
        <div class="card mb-4">
            <div class="card-header">
                <h3>Voter Information</h3>
            </div>
            <!-- code to display the form -->
                {% bootstrap_form form %}
            </div>
        </div>

        <!-- Voting Form -->
        <div class="card">
            <div class="card-header">
                <h3>Cast Your Vote</h3>
            </div>
            <div class="card-body">
                <fieldset>
                    <h4>{{ question.question_text }}</h4>
                    {% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}
                    {% for choice in question.choice_set.all %}
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="choice" id="choice{{ forloop.counter }}" value="{{ choice.id }}">
                        <label class="form-check-label" for="choice{{ forloop.counter }}">
                            {{ choice.choice_text }}
                        </label>
                    </div>
                    {% endfor %}
                </fieldset>
            </div>
        </div>

        <div class="mt-3">
            <button type="submit" class="btn btn-primary">Submit Vote</button>
        </div>
    </form>
</div>
